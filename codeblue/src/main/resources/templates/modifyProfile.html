<!DOCTYPE html>
<html>
<head> 
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="">
<meta name="author" content="">

<title>ìœ ì € ìƒì„¸ì •ë³´ - ì½”ë“œë¸”ë£¨</title>
<!-- import JQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script> 

<!-- Custom fonts for this template-->
<link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

<!-- Custom styles for this template-->
<link href="css/sb-admin-2.min.css" rel="stylesheet">
<!-- Custom styles for codeBlue -->
<link href="css/codeBlue.css" rel="stylesheet">
</head>

<body id="page-top">
 
	<!-- Topbar -->
	<div id="topBar"></div>
	<!-- End of Topbar -->

		<!-- Begin Page Content -->
		<div class="container" height="100%">
			<div class="row"> 
			
				<!-- Side Bar -->
				<div class="col-sm-1 p-0 " style="border-right: 1px solid #d9d9d9;" id="leftSideBar"></div>
				<!-- Side Bar End -->
				
				<!-- Page Content -->
				<div class="col-sm-11">
					
					<!-- Page Heading -->
					<div class="mb-4" style="margin-top: 80px">
						<ul class="nav nav-tabs">
 							<li class="nav-item" id="linkToProfile"></li>
						    <li class="nav-item" id="linkToActivity"></li>
						</ul>		
					</div><!-- page Heading End -->

					<!-- 1/4 (user)-->
					<div>
						<div class="row text-dark">
							<div class="col-md-2 text-center" id="img">
								<img src="/img/profile.svg" width="100px">
							</div>
							<div class="col-md-6 py-3" id="introduce"></div>
							<div class="col-md-4" id="information"></div>
						</div>
					</div>
					<hr>
					<!-- 2/4 (tag)-->
					<div class="col-sm-3">
					</div>
					<div>
						<div style="text-align: center">
							<div><h3>íšŒì› ì •ë³´</h3></div>
							<div id="tag"> íšŒì›ì •ë³´ ìˆ˜ì • </div>
						</div>
					
					<!-- 3/4 (form) -->
					<hr>
					
						<div class="card shadow pt-2 px-2 mx-5"> 
					<form class="was-validated card-body">
					 <input type="text" class="form-control form-control-sm" id="userId" readonly> 
					  <div class="form-group">
					    <label class="text-dark font-weight-bold" for="name">ìœ ì € ì´ë¦„</label>
					    <input type="text" class="form-control form-control-sm" id="name" placeholder="ìœ ì € ì´ë¦„" required>
					    <div class="valid-feedback">ì¢‹ì•„ìš”.</div>
					    <div class="invalid-feedback">ìœ ì € ì´ë¦„ì„ì…ë ¥í•´ì£¼ì„¸ìš”.</div>
					  </div>
					  <div class="form-group">
					    <label class="text-dark font-weight-bold" for="pw">ë¹„ë°€ë²ˆí˜¸</label>
					    <input type="password" class="form-control form-control-sm" id="pw" placeholder="ë¹„ë°€ë²ˆí˜¸" required>
					    <div class="valid-feedback">ì¢‹ì•„ìš”.</div>
					    <div class="invalid-feedback">ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>
					  </div>
					  <div class="form-group">
					    <label class="text-dark font-weight-bold" for="pw2">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
					    <input type="password" class="form-control form-control-sm" id="pw2" placeholder="ë¹„ë°€ë²ˆí˜¸ í™•ì¸" required>
					    <div class="valid-feedback">ì¢‹ì•„ìš”.</div>
					    <div class="invalid-feedback">ë¹„ë°€ë²ˆí˜¸ë¥¼ í•œë²ˆ ë” ì…ë ¥í•´ì£¼ì„¸ìš”.</div>
					  </div> 
					 <button type="button" id="change" class="btn btn-block btn-outline-primary">íšŒì›ì •ë³´ ìˆ˜ì •</button>
				  	</form>
				</div>
					<hr>			
				</div>			
			</div>
		</div> 
	</div>
	<!-- Footer -->
	<div id="footer"></div>
	<!-- End of Footer -->


	<!-- Bootstrap core JavaScript-->
	<script src="vendor/jquery/jquery.min.js"></script>
	<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

	<!-- Core plugin JavaScript-->
	<script src="vendor/jquery-easing/jquery.easing.min.js"></script>

	<!-- Custom scripts for all pages-->
	<script src="js/sb-admin-2.min.js"></script>

	<!-- Page level plugins -->
	<script src="vendor/chart.js/Chart.min.js"></script>
  	<!-- CodeBlue scripts -->
  	<script src="js/codeBlueUser.js"></script>
	
</body>
<script type="text/javascript">

$("#linkToProfile").append('<a class="nav-link active hov-p" href="/userOne?userId='+getParam("userId")+'">í”„ë¡œí•„</a>');
$("#linkToActivity").append('<a class="nav-link  hov-p" href="/userOneActive?userId='+getParam("userId")+'">í™œë™</a>');
console.log(getParam("userId"));
$("#userId").val(getParam("userId"));

$(document).ready(function() {
	$("#change").click(function(){
		if($("#pw").val() == "" || $("#name").val() == "" || $("#pw2").val() == ""){
			alert("ê³µë°±ì€ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
			return;
		}else{
			if($("#pw").val() == $("#pw2").val()){
				alert("íšŒì›ì •ë³´ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.");
				console.log("ë³€ê²½ ì™„ë£Œ  !");
			}else{
				alert("ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
				console.log("ë³€ê²½ì‹¤íŒ¨ ! ");
				return;
			}
	}
		$.ajax({
			url:"/rest/modifyProfile",
			method:"post",
			data:{"userPw":$("#pw").val(), "userName":$("#name").val(), "userId" : $("#userId").val()},
			success:function(){
				console.log("ì„±ê³µ")
				window.location.href = "/today";
				//window.history.back(); ë’¤ë¡œê°€ê¸°
			}	
		})
	});	
	
	$.ajax({
		url :"/rest/profile",
		method : "post",
		data : {"userId" : getParam("userId")},
		success : function(json){
			console.log(json);
		
			$(json).each(function(index, item){
			
			let	introduce = "<h1 class=' h2 font-weight-bold mb-1'>"+item.userName+"</h1>";
				introduce += "<div>"+item.userId+"</div>";
				$("#introduce").append(introduce);
			
			let information = "<div>ğŸš©"+item.region.regionName+"</div>";
				information += "<div>ğŸ’“"+item.userBirthdate+"</div>";
				information += "<div>â±"+item.userCreatetime+"</div>";
				information += "<div>ğŸ†"+item.rank.rankName+"</div>";
				$("#information").append(information);
				
			});
		}
	});
		
	$("#active").click(function(){
		$.ajax({
			url : "/userOneActive",
			method : "get",
			data :  {"userId" : getParam("userId")},
			success :function(){
				console.log("ì„±ê³µ");
			}
		})
	})
	
	//í•´ë‹¹ ìœ ì € ì§ˆë¬¸ ì¶”ì²œ ë°›ì€ ìˆ˜ 
	$.ajax({
		url : "/rest/userVote",
		method : "post",
		data : {"userId" : getParam("userId")},
		success : function(json){
			console.log("vote"+json);
			$("#introduce").append("<h1 class='h6 mt-3'>ë°›ì€ ì¶”ì²œğŸ‘"+json+"</h1>");
		}
	})
	
});
</script>
</html>
