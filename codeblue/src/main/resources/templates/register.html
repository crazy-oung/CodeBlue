<!DOCTYPE html>
<html>

<head>

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="">
<meta name="author" content="">

<title>íšŒì›ê°€ì… - ì½”ë“œë¸”ë£¨</title>

<!-- Custom fonts for this template-->
<link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

<!-- Custom styles for this template-->
<link href="css/sb-admin-2.min.css" rel="stylesheet">
<!-- Custom styles for codeBlue -->
<link href="css/codeBlue.css" rel="stylesheet">
<!-- import JQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script> 
<style>
.hov-g:hover {
	background: #d9d9d9 !important;
}

.hov-p:hover {
	background: #d1e3ff !important;
}
</style>
</head>

<body style="background: #ebebeb; height: 94vh">
 
		<!-- Topbar -->
		<nav
			class="navbar navbar-expand navbar-light topbar mb-4 shadow fixed-top"
			style="height: 50px; border-bottom: 1px solid #d9d9d9; border-top: 4px solid #4e73df; background: #f2f2f2;">
			<div class="container">
				<!-- topbar codeblue logo -->
				<a class="navbar-brand text-primary mr-0" href="/"><img src="/img/codeBlueLogo.png" width="130px"></a> 
				<a class="btn btn-sm btn-default mx-2 hov-g text-dark" href="/QnA">QnA</a>

				<!-- Topbar Search -->
				<div class="input-group">
					<input type="text" class="form-control  form-control-sm bg-light border-1" placeholder="ê²€ìƒ‰ì–´" style="width: 400px !important">
					<div class="input-group-append">
						<button class="btn btn-primary btn-sm" type="button">
							<i class="fas fa-search fa-sm"></i>
						</button>
					</div>
				</div>

				<div class="d-felx justify-content-end" style="width: 600px">
					<a class="ml-3 btn btn-sm hov-p text-primary" href="/login">ë¡œê·¸ì¸</a>
					<a class=" btn ml-1 btn-sm btn-primary" href="/register">íšŒì›ê°€ì…</a>
				</div> 
			</div>
		</nav>
		<!-- End of Topbar -->

		<!-- Begin Page Content -->
		<div class="container" style="height: 100%">  
			<div class="row p-5 m-5">
				
				<div class="col-sm-6 mt-5 pt-5"><!-- explain codeBlue member í˜œíƒ -->
					<img src="/img/codeBlueLogo.png" width="250px"> 
					<h1 class="text-primary h4 mt-2">íšŒì›ì´ ë˜ì–´ë³¼ê¹Œìš”?</h1>
					<label>ì½”ë“œë¸”ë£¨ íšŒì›ë“¤ì€ ...</label>
				</div>
				
				<div class="col-sm-6 mt-5 pt-4">
					<!-- register Form begin -->
					<div class="card shadow p-1 m-4 mx-4"> 
						<form class="was-validated card-body">
						  <div class="form-group">
						    <label class="text-dark font-weight-bold" for="id">ì•„ì´ë””</label>
						    <input type="email" class="form-control form-control-sm" id="id" placeholder="E-Mail@example.com" name="memberId" required>
						    <div class="valid-feedback">ì¢‹ì•„ìš”.</div>
						    <div class="invalid-feedback">ì˜¬ë°”ë¥¸ ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>
						  </div>
						  <div class="form-group">
						    <label class="text-dark font-weight-bold" for="name">ë‹‰ë„¤ì„</label>
						    <input type="text" class="form-control form-control-sm" id="name" placeholder="ì´ë¦„" name="memberName" required>
						    <div class="valid-feedback">ì¢‹ì•„ìš”.</div>
						    <div class="invalid-feedback">ë‹‰ë„¤ì„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>
						  </div>
						  <div class="form-group">
						    <label class="text-dark font-weight-bold" for="pw">ë¹„ë°€ë²ˆí˜¸</label>
						    <input type="password" class="form-control form-control-sm" id="pw" placeholder="ë¹„ë°€ë²ˆí˜¸" name="memberPw" required>
						    <div class="valid-feedback">ì¢‹ì•„ìš”.</div>
						    <div class="invalid-feedback">ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>
						  </div> 
						  <button type="button" class="btn btn-block btn-primary join" id="join">íšŒì›ê°€ì…</button> 
						 </form> 
						  <!-- ì…ë ¥ í´ë¦­ì‹œ ì¸ì¦ì½”ë“œ ì…ë ¥ë€ ì¶œë ¥ -->
						  <b class="text-sm card my-3 p-3 text-center text-primary shadow" id="notice" style="display:none">ì¸ì¦ ë©”ì¼ì´ ì „ì†¡ ë˜ì—ˆìŠµë‹ˆë‹¤! í™•ì¸í•´ ì£¼ì„¸ìš”!</b>
						  <form class="was-validated card-body" > 
							  <div id="codeForm" style="display:none">	  
							  	<div class="form-group">
							    	<label for="uname">ì¸ì¦ì½”ë“œ</label>
							    	<input type="text" class="form-control" id="code" placeholder="ì¸ì¦ì½”ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”" name="confirmCode" required>
							    	<div class="valid-feedback">ì¢‹ì•„ìš”.</div>
							    	<div class="invalid-feedback">ì¸ì¦ ì½”ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš” ğŸ†</div> 
							  	</div> 
							  	<button type="button" id="confirmCode" class="btn btn-block btn-outline-primary">í™•ì¸</button>  
								<a href="/sendMail" id="resend" class="small text-center">ë©”ì¼ì´ ì•ˆì™”ë‚˜ìš”?</a>
								<a href="/sendMail" class="small text-center">ì œê²Œ ë©”ì¼ì„ ë³´ë‚´ì£¼ì„¸ìš”!</a>
							  </div>
						  </form>
						  <div class="card my-3 p-3 text-center shadow" style="display:none" id="joinComplete">
							  <h3 class="my-3 p-3 text-center text-success font-weight-bold" id="ok"></h3>
							  <a href="/login" class="font-weight-bold" id="toLogin"></a>
						  </div> 
					</div>
					<!-- register Form end -->
				</div>
				
				
			</div> 
		</div> 
		<!-- Page Content End --> 
		 


	<!-- Bootstrap core JavaScript-->
	<script src="vendor/jquery/jquery.min.js"></script>
	<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

	<!-- Core plugin JavaScript-->
	<script src="vendor/jquery-easing/jquery.easing.min.js"></script>

	<!-- Custom scripts for all pages-->
	<script src="js/sb-admin-2.min.js"></script>

	<!-- Page level plugins -->
	<script src="vendor/chart.js/Chart.min.js"></script>

	<!-- Page level custom scripts -->
	<script src="js/demo/chart-area-demo.js"></script>
	<script src="js/demo/chart-pie-demo.js"></script>
</body>
<script> 
		$(".join").click(function(){
			console.log("ì…ë ¥ì™„ë£Œ ë©”ì¼ì „ì†¡ ì‹œì‘.");
			if($("#id").val()=="" || $("#name").val()=="" || $("#pw").val()==""){
				alert("ë¹ˆì¹¸ì„ ì±„ì›Œì£¼ì„¸ìš”!");
				return;
			} 
			
			$.ajax({
				url:"/rest/sendEmailToConfirm",
				data:{ "userId" : $("#id").val() , "userName" : $("#name").val() },
				method:"post", 
				success:function(){
					console.log("ë©”ì¼ ì „ì†¡ ì™„ë£Œ!")
					$("#notice").fadeIn(300); 
					setTimeout(function() {
						$("#codeForm").slideDown(500); 
					}, 300);
					
					$('#id').prop('readonly', true); 
					$("#name").prop('readonly', true); 
					$("#pw").prop('readonly', true);  
					$(".join").prop('disabled', true);  
					
					console.log($('#id').val());
					console.log($('#name').val()); 
				}

			})
			 
		})
		 
		$("#confirmCode").click(function(){
			console.log("ì½”ë“œ ê²€ì‚¬");
		 	$.ajax({
		 		url:"/rest/checkCode",
				data:{ 	"userId" : $("#id").val() , 
						"userName" : $("#name").val(),
						"userPw" : $("#pw").val(), 
						"code" : $("#code").val() },
				method:"post", 
				success:function(json){
					if(json === "false"){
						alert("ì½”ë“œê°€ í‹€ë ¸ìŠµë‹ˆë‹¤! ë‹¤ì‹œ ì‹œë„í•˜ì—¬ ì£¼ì„¸ìš”. :(")
						return;
					}
					$("#confirmCode").prop("disabled", true);
					$("#joinComplete").fadeIn(300);
					setTimeout(function() {
						$("#ok").append("í™˜ì˜í•©ë‹ˆë‹¤.ğŸ† íšŒì›ê°€ì…ì´ ì™„ë£Œ ë˜ì—ˆì–´ìš”!");
						$("#toLogin").append("ë¡œê·¸ì¸ í•˜ëŸ¬ ê°€ë³¼ê¹Œìš”?");
					}, 300);	
					
				},
				fail:function(){
					alert("ì½”ë“œê°€ í‹€ë ¸ìŠµë‹ˆë‹¤! ë‹¤ì‹œ ì‹œë„í•˜ì—¬ ì£¼ì„¸ìš”. :(")
				}
			})

		})  
</script>
</html>
