<!DOCTYPE html>
<html>

<head>

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="">
<meta name="author" content="">

<title>ì§ˆë¬¸ - ì½”ë“œë¸”ë£¨</title>

<!-- Custom fonts for this template-->
<link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.12/summernote-lite.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.12/summernote-lite.js"></script>

<!-- Custom styles for this template-->
<link href="css/sb-admin-2.min.css" rel="stylesheet">
<!-- Custom styles for codeBlue -->
<link href="css/codeBlue.css" rel="stylesheet">
</head>

<body id="page-top">
		<!-- Topbar -->
		<nav
			class="navbar navbar-expand navbar-light topbar mb-4 shadow fixed-top"
			style="height: 50px; border-bottom: 1px solid #d9d9d9; border-top: 4px solid #4e73df; background: #f2f2f2;">
			<div class="container">
				<!-- topbar codeblue logo -->
				<a class="navbar-brand text-primary mr-0" href="/"><img src="/img/codeBlueLogo.png" width="130px"></a> 
				<a class="btn btn-sm btn-default mx-2 hov-g text-dark" href="/QnA">QnA</a>

				<!-- Topbar Search -->
				<div class="input-group">
					<input type="text" class="form-control  form-control-sm bg-light border-1" placeholder="ê²€ìƒ‰ì–´" id="searchWord">
					<div class="input-group-append">
						<button class="btn btn-primary btn-sm" type="button" id="search">
							<i class="fas fa-search fa-sm"></i>
						</button>
					</div>
				</div>

				<div class="d-felx justify-content-end" style="width: 600px">
					<a class="ml-3 btn btn-sm hov-p text-primary" href="/login">ë¡œê·¸ì¸</a>
					<a class=" btn ml-1 btn-sm btn-primary" href="/register">íšŒì›ê°€ì…</a>
				</div> 
			</div>
		</nav>
		<!-- End of Topbar -->
		
		<div class='content'>
		<!-- Begin Page Content -->
		<div class="container">
			<div class="row"> 			
				<!-- Side Bar -->
				<div class="col-sm-1 p-0 " style="border-right: 1px solid #d9d9d9;">
					<nav class="navbar pl-0 sticky-container">
						<div style="margin-top: 70px">
							<ul class="nav flex-column">
								<li class="pl-0"><small>ì§ˆë¬¸</small></li> 
								<li class="nav-item pl-1"><a class="nav-link pl-2 font-weight-bold pt-1 pb-0" href="/">today</a></li> 
								<li class="nav-item pl-1"><a class="nav-link pl-2 text-danger font-weight-bold pt-1 pb-0" href="/">hot ğŸ”¥</a></li>
								<li class="nav-item pl-1"><a class="nav-link pl-2 text-warning font-weight-bold pt-1 pb-0" href="/">help!</a></li>
								<li class="nav-item pl-1"><a class="nav-link pl-2 text-success font-weight-bold pt-1 pb-0" href="/">ongoing</a></li>
								<li class="mt-2"><small>ì¡°íšŒ</small></li> 
								<li class="nav-item"><a class="nav-link text-dark pl-2 pt-1 pb-0" href="/">ìœ ì €</a></li>
								<li class="nav-item"><a class="nav-link text-dark pl-2 pt-1 pb-0" href="/">íƒœê·¸</a></li>
								<li class="nav-item"><a class="nav-link text-dark pl-2 pt-1 pb-0" href="/">ë­í‚¹</a></li>
							</ul>
						</div> 
					</nav>
				</div>
				<!-- Side Bar End -->
				
				<!-- Page Content -->
				<div class="col-sm-11 pl-4">
					<!-- Page Heading -->
					<div class="d-sm-flex align-items-center justify-content-between" style="margin-top: 80px">
						<h4 class="text-gray-800" id="title"></h4>
					</div><!-- page Heading End -->
					<small id="datetime">ë“±ë¡ì¼ </small>
					<hr>
					<div class='row'>
						<div class='col-sm-9'>
							<div id="tableBody" class='text-dark'></div>
							
							<div class="text-right mt-4">
								<a id="commentBtn"><i class='far fa-comment-dots mx-1'></i></a>
								<a id="reportBtn" class='mx-2 text-danger'>ì‹ ê³ </a>
							</div>
							
							<div style="display: none;" id="questionComment">
								<form method="post">
									<div>
										<textarea class="form-control form-control-sm" maxlength="1000" placeholder="ê°œì¸ì •ë³´ë¥¼ ê³µìœ  ë° ìš”ì²­í•˜ê±°ë‚˜, ëª…ì˜ˆ í›¼ì†, ë¬´ë‹¨ ê´‘ê³ , ë¶ˆë²• ì •ë³´ ìœ í¬ì‹œ ëª¨ë‹ˆí„°ë§ í›„ ì‚­ì œë  ìˆ˜ ìˆìœ¼ë©°, ì´ì— ëŒ€í•œ ë¯¼í˜•ì‚¬ìƒ ì±…ì„ì€ ê²Œì‹œìì—ê²Œ ìˆìŠµë‹ˆë‹¤."></textarea>
									</div>
									<div>
										<div class="text-right m-1">
											<button type="button" id="commentAdd" class="btn btn-sm btn-primary text-right px-3">ë“±ë¡</button>
										</div>
									</div>
								</form>
							<table id="questionCommentList">
							</table>
							</div>
							<table id='answers'>
							
							</table>
							<hr>
							<!-- ë§ê¸€ ì…ë ¥ë€ -->
							<label for='summernote' class='text-dark'>ë„ì›€ì„ ì¤„ ìˆ˜ ìˆëŠ” ì‚¬ëŒì„ ì•Œê³  ê³„ì‹ ê°€ìš”? ì§ˆë¬¸ì— ë§í¬ë¥¼ ê³µìœ í•´ì£¼ì„¸ìš”!</label>
							<div id="summernote" class="mb-3"></div>
							<button class='btn btn-sm btn-primary m-1 px-4'>ë‹µë³€ê²Œì‹œ</button>
							
							<!-- questionId ê°’ ìˆ¨ê¸°ê¸° -->
							<input type="text" id="questionId" hidden="hidden">
							
							<table id="bodyTable"></table>
						</div>
					
						<!-- Page rigth side bar -->
						<div class="col-sm-3 mb-4">
							<div class="card border-1 shadow bg-light border-bottom-primary">
								<small class='text-primary font-weight-bold card-header alert-primary px-3 border-0'>
									New! ìƒˆ ì†Œì‹ì´ ìˆì–´ìš”
								</small>
								<table class=" table table-sm mb-0">
									<tr>
										<td><a class='nav-link small px-2' href='#'><i class='far fa-comment-dots mx-1'></i>ë„ì™€ì£¼ì„¸ìš©</a></td>
									</tr>
									<tr>
										<td><a class='nav-link small px-2' href='#'><i class='far fa-comment-dots mx-1'></i>ë„ì™€ì£¼ì„¸ìš©</a></td>
									</tr>
									<tr>
										<td><a class='nav-link small px-2' href='#'><i class='far fa-comment-dots mx-1'></i>ë„ì™€ì£¼ì„¸ìš©</a></td>
									</tr>
									<tr>
										<td><a class='nav-link small px-2' href='#'><i class='far fa-comment-dots mx-1'></i>ë„ì™€ì£¼ì„¸ìš©</a></td>
									</tr>
								</table>			
								<small class='text-primary font-weight-bold card-header alert-primary px-3 border-0'>
									ê¶ê¸ˆí•œ ê²ƒì´ ìˆë‚˜ìš”?
								</small>	
								<table class=" table table-sm mb-0">
									<tr>
										<td><a class='nav-link small px-2' href='#'><i class='far fa-comment-dots mx-1'></i>ë„ì™€ì£¼ì„¸ìš©</a></td>
									</tr>
									<tr>
										<td><a class='nav-link small px-2' href='#'><i class='far fa-comment-dots mx-1'></i>ë„ì™€ì£¼ì„¸ìš©</a></td>
									</tr>
									<tr>
										<td><a class='nav-link small px-2' href='#'><img src='img/codeblueicon.png' width="15px">ë„ì™€ì£¼ì„¸ìš©</a></td>
									</tr>
									<tr>
										<td><a class='nav-link small px-2' href='#'><img src='img/codeblueicon.png' width="15px">ë„ì™€ì£¼ì„¸ìš©</a></td>
									</tr>
								</table>				
							</div>
						</div> <!-- rigth side bar end -->
						
						
					</div>
					
				</div>
			</div>
		</div> 

	<!-- Footer -->
	<div id="footer"></div>
	<!-- End of Footer -->
	
	</div>
	

	<!-- Bootstrap core JavaScript-->
	<script src="vendor/jquery/jquery.min.js"></script>
	<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

	<!-- Core plugin JavaScript-->
	<script src="vendor/jquery-easing/jquery.easing.min.js"></script>

	<!-- Custom scripts for all pages-->
	<script src="js/sb-admin-2.min.js"></script>
	
	<!-- summer note scripts -->
	<script src="js/summernote/summernote-bs4.min.js"></script>
	<script src="js/summernote/summernote-ko-KR.js"></script>
	<script src="js/summernote/summernote.min.js"></script> 
	
</body>
<script>

	$("#footer").load("/footer #footer");
	
	$('#summernote').summernote({
		  toolbar: [
			  ['style', ['style']],
			  ['font', ['bold', 'underline', 'clear']],
			  ['color', ['color']],
			  ['para', ['ul', 'ol', 'paragraph']],
			  ['table', ['table']],
			  ['insert', ['link', 'picture', 'video']],
			  ['view', ['fullscreen', 'help']],
			],
		lang : 'ko-KR',
		placeholder: 'ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”',
		tabsize: 4,
		height: 150
	});
		
	//íŒŒë¼ë©”í„° ì •ë³´ê°€ ì €ì¥ë  ì˜¤ë¸Œì íŠ¸
	// common.js ê°™ì€ ëª¨ë“  í˜ì´ì§€ì—ì„œ ë¡œë”©ë˜ëŠ” js íŒŒì¼ì— ë„£ì–´ë‘ë©´ ë¨.
	var getParam = function(key){
	    var _parammap = {};
	    document.location.search.replace(/\??(?:([^=]+)=([^&]*)&?)/g, function () {
	        function decode(s) {
	            return decodeURIComponent(s.split("+").join(" "));
	        }
	
	        _parammap[decode(arguments[1])] = decode(arguments[2]);
	    });
	
	    return _parammap[key];
	};
	$("#questionId").val(getParam("questionId"));
	
	$.ajax({
		url : "/rest/questionBoardOne",
		method : "post",
		data : {"questionId" : $("#questionId").val()},
		success: function(json) {
			console.log(json);
			$("#title").append(json.questionTitle);
			$("#datetime").append(json.questionDatetime);
			$("#commentBtn").append(json.commentCount);
			$("#tableBody").append(json.questionContent);
			
		}
	});
	
	$("#commentBtn").click(function(){
		if($("#questionComment").css("display") == "none"){   
	        jQuery('#questionComment').css("display", "block");   
	    } else {  
	        jQuery('#questionComment').css("display", "none");   
	    }  
		$("#questionCommentList").empty();
		$.ajax({
			url:"/rest/getQuestionCommentList",
			method:"POST",
			data:{"questionId" : $("#questionId").val()},
			success: function(json){
				console.log(json);
				$(json).each(function(index,item){
					html =  "<tr>"+
							"<td>"+item.userId+"</td>"+
							"<td>"+item.questionCommentContent+"</td>"+
							"<td>"+item.questionCommentDatetime+"</td>"+
							"</tr>";
					$("#questionCommentList").append(html);
				})
			}
		
		});
	});
	
// ëŒ“ê¸€ ì…ë ¥
// 	$("commentAdd").click(function(){
// 		url : "/rest/commentAdd",
// 		method : "post",
// 		data : {"questionId" : $("#questionId").val()},
// 		success : function(json){
// 			console.log(json)
// 		}
// 	});

</script>


</html>
